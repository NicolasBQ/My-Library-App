"use strict";(self.webpackChunkmybooks=self.webpackChunkmybooks||[]).push([[346,81,247],{824:(e,t,o)=>{o.d(t,{p:()=>a,T:()=>s});var r=o(140),n=o(7);const a=(e=c().getLibrary())=>{i(e),u(),l().changeBookStatus()},c=()=>{const e=JSON.parse(localStorage.getItem("myLibrary"))||[],t=()=>localStorage.setItem("myLibrary",JSON.stringify(e));return{getLibrary:()=>e,setLibrary:o=>{e.push(o),t()},removeBook:o=>{e.splice(o,1),t()},changeStatus:(o,r)=>{e[o].status=r,t()}}},s=(e,t,o)=>{c().setLibrary({name:e,author:t,status:o}),a()},i=e=>{const t=e.map((e=>`\n        <li class="books-container__item ${(0,n.K)()}">\n            <div>\n                <h3 class="books-container__title font-400">\n                ${e.name}\n                </h3>\n                <div class="books-container__circle ${l(e).bookClass()}"></div>\n                <p class="books-container__author">\n                    ${e.author}\n                </p>\n            </div>\n\n            <button class="books-container__delete button">\n                <img src="../src/img/delete.svg" alt="Delete book Button"/>\n            </button>\n        </li>\n        `));(0,r.t)().booksContainer.innerHTML=t.join("")},u=()=>{const e=(0,r.t)().bookDelete;Array.from(e).forEach(((e,t)=>{e.addEventListener("click",(()=>{e.parentNode.remove(),c().removeBook(t),a()}))}))},l=e=>({bookClass:()=>e.status?"books-container__green":"books-container__red",changeBookStatus:()=>{const e=(0,r.t)().statusLight;Array.from(e).forEach(((e,t)=>{e.addEventListener("click",(()=>{e.classList.contains("books-container__red")?(c().changeStatus(t,!0),e.classList.remove("books-container__red"),e.classList.add("books-container__green")):(c().changeStatus(t,!1),e.classList.remove("books-container__green"),e.classList.add("books-container__red"))}))}))}})},7:(e,t,o)=>{o.d(t,{K:()=>n,W:()=>c});var r=o(140);const n=()=>{if("enabled"==a().getTheme())return s(),"dark-item"},a=e=>({setTheme:()=>{localStorage.setItem("darkMode",e)},getTheme:()=>localStorage.getItem("darkMode")}),c=()=>{"enabled"!==a().getTheme()?s():i()},s=()=>{u().defaultArray.forEach((e=>{e.classList.add("darkDefault")})),Array.from((0,r.t)().inputs).forEach((e=>{e.classList.add("form-container__input-dark")})),Array.from((0,r.t)().bookItems).forEach((e=>{e.classList.add("dark-item")})),(0,r.t)().themeIcon.src="../src/img/sun.svg";a("enabled").setTheme()},i=()=>{u().defaultArray.forEach((e=>{e.classList.remove("darkDefault")})),Array.from((0,r.t)().inputs).forEach((e=>{e.classList.remove("form-container__input-dark")})),Array.from((0,r.t)().bookItems).forEach((e=>{e.classList.remove("dark-item")})),(0,r.t)().themeIcon.src="../src/img/moon.svg";a(null).setTheme()},u=()=>({defaultArray:[(0,r.t)().body,(0,r.t)().themeBtn,(0,r.t)().formContainer,(0,r.t)().formContainerCloseBtn]})},140:(e,t,o)=>{o.d(t,{t:()=>r});const r=()=>({themeBtn:document.querySelector(".theme-button"),mainBtn:document.querySelector(".main__button"),form:document.querySelector(".form"),inputs:document.querySelectorAll(".form-container__input"),body:document.querySelector(".body"),formContainer:document.querySelector(".form-container"),formContainerCloseBtn:document.querySelector(".form-container__close-btn"),themeIcon:document.querySelector(".theme-icon"),filterBtn:document.querySelector(".filter-arrow"),backgroundOpacity:document.querySelector(".background-form"),bookName:document.querySelector(".input-name"),bookAuthor:document.querySelector(".input-author"),bookStatus:document.querySelector(".input-checkbox"),booksContainer:document.querySelector(".books-container"),bookItems:document.querySelectorAll(".books-container__item"),bookDelete:document.querySelectorAll(".books-container__delete"),statusLight:document.querySelectorAll(".books-container .books-container__circle"),filterButton:document.querySelector(".filter-button"),filterOptions:document.querySelector(".filter-options"),defaultOption:document.querySelector(".option-default"),readOption:document.querySelector(".option-read"),notreadOption:document.querySelector(".option-noread")})}},e=>{var t;t=824,e(e.s=t)}]);